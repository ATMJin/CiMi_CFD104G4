<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CiMi交友論壇</title>
    <!-- emoji套件的CSS -->
    <link rel="stylesheet" href="https://cdn.rawgit.com/mervick/emojionearea/master/dist/emojionearea.min.css">
    <!-- Jquery-->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <!-- emoji套件的JS -->
    <script type="text/javascript" src="https://cdn.rawgit.com/mervick/emojionearea/master/dist/emojionearea.min.js">
    </script>
    <!-- 聊天室頁面的css -->
    <link rel="stylesheet" href="assets/css/chat.css">
    <!-- FontAwesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- 黑夜白天模式JS -->
    <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
    <!-- 滾動套件 -->
    <script src="https://cdn.jsdelivr.net/npm/scroll-behavior-polyfill@2.0.13/dist/index.min.js"></script>


    <title>chat</title>

    <style>
        .darkmode--activated p,
        .darkmode--activated li {
            color: #000(39, 26, 221, 0.63);
        }

        .button {
            isolation: isolate;
        }

        .darkmode--activated .logo {
            mix-blend-mode: difference;
        }

        .darkmode-layer,
        .darkmode-toggle {
            z-index: 500;
        }

        .switch {
            width: 100px;
            height: 50px;
            border-radius: 200px;

        }


        .switch {
            margin-top: 50px;
            width: 48px;
            height: 23px;
            border-radius: 800px;
            border: 1px solid #888;
            /* box-shadow: 0px 2px 2px #00000080 inset; */
            box-sizing: border-box;
            background-color: #8888;

        }

        .btnn {
            width: 16px;
            height: 16px;
            border: 1px solid #888;
            box-sizing: border-box;
            border-radius: 50%;
            box-shadow: 2px 2px 2px #00000030;
            background-color: #fff;
            margin-left: 0;
            margin-right: 0;
            transition: .3s;
            display: block;
            position: relative;
            top: 2px;
        }

        #switch_btn {
            display: none;
        }

        #switch_btn:checked+.switch .btnn {
            margin-left: 60%
        }

        #switch_btn:checked+.switch {
            background-color: #164570;
        }
    </style>
</head>

<body id="body">
    @@include('layout/header.html')

    <!-- 開始寫自己頁面的HTML -->
    <!-- 聊天室 -->
    <main class="chat_room">
        <section class="users">

            <div class="search">
                <span class="text">搜尋MI友</span>
                <input type="text" placeholder="請輸入您的好友MI稱...">
                <button><i class="fas fa-search"></i></button>
            </div>
            <div class="users_list">
                <span class="friends">
                    <div class="content">
                        <img src="https://picsum.photos/id/684/600/400" alt="">
                        <div class="details">
                            <span>Celia</span>
                            <p>This is test message</p>
                        </div>
                    </div>
                    <div class="status_dot"><i class="fas fa-circle"></i></div>
                    <input type="text" value="123" hidden>
                </span>

            </div>
        </section>


        <section class="chat_area">
            <header>
                <img src="./assets/images/blue_ball.png" alt="">
                <i class="fa-solid fa-arrow-left black" id="back"></i>
                <div class="details">
                    <span>CIMI</span> 
                     <p>This is CIMI</p>
                </div>
                <!-- <input type="checkbox" name="" id="switch_btn" onclick="darkmode.toggle();">  -->
                <input type="checkbox" name="" id="switch_btn" >
                <div class="switch dark_icon">
                <label for="switch_btn" class="btnn"></label>
            </header>
            <div class="chat_box" id="chat_box">
                <div class="chat outgoing">
                    <div class="details">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                        <span class="chat-msg-date">Message send 3.16pm</span>
                    </div>
                </div>
                <div class="chat incoming">
                    <img src="./creator-noeyegirl.png" alt="">
                    <div class="details">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                        <span class="chat-msg-date">Message send 3.16pm</span>
                    </div>
                </div>
                <div class="chat outgoing">
                    <div class="details">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas dolores adipisci veritatis
                            perferendis ea nesciunt fuga quaerat voluptatum. Voluptates, minus.</p>
                        <span class="chat-msg-date">Message send 3.16pm</span>
                    </div>
                </div>
                <div class="chat incoming">
                    <img src="./creator-noeyegirl.png" alt="">
                    <div class="details">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
                <div class="chat outgoing">
                    <div class="details">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
                <div class="chat incoming">
                    <img src="./creator-noeyegirl.png" alt="">
                    <div class="details">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
                <div class="chat outgoing">
                    <div class="details">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
                <div class="chat incoming">
                    <img src="./creator-noeyegirl.png" alt="">
                    <div class="details">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
            </div>

            <form action="#" class="typing_area">
                <div class="fun_icon">
                    <!-- 加號按鈕 -->
                    <input type="text" name="upFile" id="thePic" style="display: none;"><br>
                    <label for="thePic">
                        <span id="btnSave" class="btn btn-danger" onclick="screenshot()"><i class="fa-solid fa-camera-retro"></i></span>
                    </label>
                    <!-- 照片按鈕 -->
                    <input type="file" name="upFile" id="theFile" style="display: none;"><br>
                    <label for="theFile">
                        <span><i class="fa-solid fa-images"></i></span>
                    </label>
                </div>
                <input type="text" placeholder="請輸入訊息..."  name="message" id="emojionearea1">
                <button><i class="fa-solid fa-paper-plane"></i></button>

            </form>
        </section>
        </div>
    </main>

    <script>
        // DarkMode.js Code
        function addDarkmodeWidget() {
            let switch_btn = document.getElementById('switch_btn')
            const darkmode = new Darkmode();
            switch_btn.addEventListener('click', changeMode)

            function changeMode() {
                darkmode.toggle();
            }
            console.log('addDarkmodeWidget')
            // console.log(switch_btn.classList.add('active'))
        }
        window.addEventListener('load', addDarkmodeWidget);
    </script>

    <script>
        // emojionearea1 Code
        $(document).ready(function () {
            $("#emojionearea1").emojioneArea({
                pickerPosition: "top",
                filtersPosition: "bottom",
                tones: false,
                autocomplete: false,
                inline: true,
                hidePickerOnBlur: false
            });
        })
    </script>
    <script>
        
        let rowcount = 0
    </script>
    <script  src="http://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script type="text/javascript">    
        function screenshot(){
    
            html2canvas(document.getElementById('body')).then(function(canvas) {
                // document.body.appendChild(canvas);
                var a = document.createElement('a');
                a.href = canvas.toDataURL("image/jpeg").replace("image/jpeg", "image/octet-stream");
                a.download = 'image.jpg';
                a.click();
            });
        }
    </script>

    <script src="js/chat.js"></script>
    <script src="js/user.js"></script>
    <script src="js/chat_img.js"></script>

    
</body>

</html>