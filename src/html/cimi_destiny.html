<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Noto+Sans+TC:wght@100;300;400;500;900&display=swap" rel="stylesheet">
<style>

    body {
        margin: 0;
        padding: 0;
        background: #FFFDED;
        min-height: 100vh;
    }
    .video_viewer{
        position:fixed;
        width: 100%;
    }
    .ball{
        right: 538px;
        top:290px;
        width: 140px;
        height: 140px;
        position:fixed;
        z-index: 3;
    }
  
    .Ans_A{
        position:fixed;
        right: 200px;
        top:200px;
        z-index: 2;
        font-size: 20px;
        width: 200px;
        height: 50px;
        background-size: 200px 50px;
    }
   
    .Ans_B{
        position:fixed;
        right: 200px;
        top:240px;
        z-index: 2;
        font-size: 20px;
       
    }
    .Ans_C{
        position:fixed;
        right: 200px;
        top:280px;
        z-index: 2;
        font-size: 20px;
    }
    .question{
        position: fixed;
        width: 500px;
        top:90px;
        left: 400px;
        padding: 10px;
        color: rgb(70, 70, 70);
        visibility:hidden;
        font-family: 'Noto Sans TC', sans-serif;
        line-height: 2;

    }
    #start{
        position: fixed;
        width: 420px;
        top:200px;
        left: 400px;
        padding: 10px;
        font-size: 60px;
        color: #593C3C;
    }
    .start {
        position:fixed;
        margin: auto;
        z-index: 3;
        top: 50%;
        left: 50%;
        font-size: 20px;
        background-image: url(button.png);
        background-size: 200px 50px;
    }

    .start_button_img{
        width: 80px;
        height: 80px;
    }
    #question0{
        visibility:visible;
        font-size: 50px;
        text-align: center;
    }

    /* svg_ball */

    .st0{fill:#F5BA79;}

    .st1{fill:#473C3C;}

    .st2{fill:#FFFFFF;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}

</style>
<body>
    <main>

        <div class="player">
            <video id="cimi_video" class="video_viewer"
                src="CiMiAnimaton_withoutball.mp4" width="100%"
                ></video>
            <div class="ball">
                <svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                viewBox="0 0 305.01 280.24" style="enable-background:new 0 0 305.01 280.24;" xml:space="preserve">
            <g id="ball_svg" style="display:none;">
                <path class="st0" id="ball_background" d="M228.04,148.66c-6.38,51.29-53.12,87.7-104.41,81.33c-51.29-6.37-87.7-53.12-81.33-104.41
                    c6.37-51.29,53.12-87.7,104.41-81.33C198,50.63,234.41,97.37,228.04,148.66"/>
                <path class="st1" id="ball_outline" d="M68.37,198.63c11.79,16.07,28.15,28.27,47.15,34.48c18.5,6.05,38.81,6.15,57.39,0.33
                    c38.77-12.14,66.11-48.38,68.43-88.73c2.32-40.26-21.12-79.24-58.54-94.83C145.2,34.24,101.01,45.3,74.36,75.86
                    c-26.15,29.98-31.94,74.28-13.92,109.82C62.73,190.2,65.4,194.52,68.37,198.63c1.31,1.81,4.35,0.07,3.03-1.77
                    c-22.62-31.4-23.81-74.27-3.14-106.98c20.88-33.05,61.37-50.38,99.57-41.19c37.99,9.14,66.21,42.77,69.76,81.53
                    c3.53,38.67-17.11,76.74-51.88,94.27c-34.39,17.35-77.21,10.73-104.61-16.38c-3.53-3.49-6.76-7.25-9.69-11.25
                    C70.07,195.06,67.03,196.81,68.37,198.63"/>
                <path class="st1" id="ball_left_eyebrow" d="M146.88,113.02c0.2,1.14,0.79,2.31,2.2,2.47c0.77,0.09,1.42-0.17,2.1-0.46c0.72-0.31,1.43-0.62,2.15-0.92
                    c1.44-0.61,2.88-1.21,4.31-1.83c0.67-0.29,1.42-0.55,2.04-0.91c0.37-0.22,0.65-0.54,0.84-0.9c0.1-0.19,0.19-0.39,0.27-0.59
                    c0.02-0.04,0.2-0.4,0.09-0.2c0.46-0.87,0.04-1.64-0.9-2c0.21,0.08-0.3-0.16-0.35-0.18c-0.25-0.11-0.5-0.22-0.77-0.29
                    c-0.71-0.18-1.27,0.05-1.9,0.3c-1.04,0.42-2.07,0.85-3.1,1.28c-2.1,0.89-4.2,1.8-6.29,2.7c-0.73,0.31-0.92,1.27-0.54,1.86
                    c0.44,0.68,1.32,0.8,2.06,0.49c1.9-0.81,3.8-1.63,5.7-2.44c0.93-0.39,1.86-0.79,2.8-1.17c0.23-0.09,0.47-0.19,0.7-0.28
                    c0.13-0.05,0.27-0.11,0.4-0.16c-0.64-0.02-0.82,0-0.56,0.07c0.09,0.03,0.09,0.02-0.01-0.01c0.1,0.05,0.19,0.09,0.29,0.14
                    c0.25,0.12,0.52,0.22,0.78,0.32l-0.9-2c-0.13,0.26-0.25,0.52-0.37,0.78c-0.06,0.13-0.04-0.12-0.06,0.13
                    c-0.02,0.04-0.05,0.08-0.07,0.11c0.09-0.08,0.18-0.17,0.28-0.25c-0.07-0.05-0.77,0.34-0.87,0.39c-0.29,0.13-0.58,0.25-0.88,0.38
                    c-1.17,0.5-2.35,1-3.52,1.5c-0.56,0.23-1.11,0.47-1.66,0.71c-0.3,0.13-0.59,0.25-0.88,0.38c-0.16,0.07-0.32,0.14-0.49,0.21
                    c-0.04,0.02-0.36,0.15-0.25,0.11c0.13-0.05-0.18,0.05-0.21,0.06c-0.2,0.07-0.04-0.02,0.08-0.01c0.1,0.01,0.44,0.13,0.37,0.1
                    c-0.08-0.04,0.16,0.12,0.19,0.16c0.17,0.16-0.08-0.2,0.07,0.13c-0.03-0.07-0.05-0.14-0.08-0.22c-0.07-0.22-0.11-0.44-0.15-0.67
                    c-0.12-0.73-1.13-1.13-1.85-0.95C147.07,111.57,146.76,112.29,146.88,113.02"/>
                <path class="st1" id="ball_right_eyebrow" d="M210.12,106.96c-2-0.78-4-1.56-6.01-2.32c-0.98-0.37-1.97-0.75-2.96-1.11c-0.47-0.17-0.93-0.39-1.44-0.33
                    c-0.49,0.05-0.99,0.3-1.37,0.61c-0.91,0.73-0.97,1.82-0.43,2.8c0.53,0.95,1.54,1.21,2.49,1.6c2,0.8,4.01,1.57,6.01,2.36
                    c1.06,0.42,2.23,1.01,3.3,0.28c0.79-0.53,0.99-1.52,1.2-2.38c0.17-0.73-0.43-1.49-1.14-1.61c-0.78-0.13-1.44,0.39-1.61,1.13
                    c-0.04,0.18-0.09,0.35-0.13,0.53c-0.04,0.16-0.04,0.16,0.01,0c-0.02,0.07-0.05,0.13-0.08,0.2c-0.07,0.14-0.06,0.12,0.05-0.06
                    c0.09-0.09,0.19-0.16,0.31-0.2c0.25-0.08,0.49,0.04,0.12-0.07c0.13,0.03,0.09,0.01-0.12-0.06c-0.13-0.05-0.25-0.1-0.38-0.15
                    c-0.25-0.1-0.5-0.2-0.75-0.3c-0.44-0.17-0.87-0.34-1.32-0.51c-1-0.39-2.01-0.78-3.01-1.18c-0.5-0.2-1-0.4-1.5-0.6
                    c-0.25-0.1-0.5-0.2-0.75-0.3c-0.12-0.05-0.8-0.43-0.4-0.1c0.18,0.17,0.21,0.18,0.09,0.04c0.06,0.14,0.06,0.14,0-0.01
                    c-0.06-0.17-0.06-0.15,0,0.03c0.03,0.33-0.07,0.59-0.3,0.77c0.13-0.09,0.14-0.1,0-0.03c0.16-0.06,0.15-0.07-0.04-0.02
                    c-0.85-0.2,0.03,0.1,0.19,0.16c0.96,0.35,1.91,0.71,2.87,1.08c1.97,0.75,3.94,1.52,5.91,2.29c0.7,0.27,1.52,0.03,1.84-0.68
                    C211.1,108.15,210.82,107.22,210.12,106.96"/>
                <path class="st1"id="ball_mouth" d="M170.41,145.57c0.01,2.42-0.4,5.17,0.67,7.43c0.98,2.05,3.2,3.12,5.38,3.31c2.54,0.22,4.58-1.32,5.89-3.36
                    c1.36-2.12,1.83-4.61,2.1-7.08c0.09-0.81-0.81-1.7-1.61-1.61c-1.11,0.12-2,0.23-3.12,0.09c-1.15-0.16-2.3-0.3-3.43-0.54
                    c-0.58-0.13-1.17-0.28-1.73-0.48c-0.51-0.18,0.13,0.1-0.28-0.11c-0.09-0.04-0.17-0.09-0.25-0.14c0.16,0.13,0.17,0.14,0.05,0.02
                    c0.14,0.25,0.21,0.3,0.26,0.6c-0.04,0.25-0.04,0.29,0,0.1c0.06-0.16,0.06-0.16,0,0.01c0.2-0.4,0.48-0.76,0.74-1.12
                    c-0.84,0.11-1.69,0.21-2.53,0.32c2.63,2.36,5.93,2.94,9.33,2.24c0.32-0.07,0.59-0.11,0.75-0.15c0.27-0.07,0,0.02,0.02-0.02
                    c0.05,0.01,0.09,0.02,0.14,0.04c-0.17-0.08-0.18-0.07-0.02,0.02c-0.09,0-0.18-0.22,0,0.05c-0.17-0.25,0.14,0.27,0.13,0.25
                    c0.04,0.07,0.16,0.38,0.02,0.03c0.05,0.14,0.1,0.29,0.14,0.44c0.03,0.12,0.05,0.23,0.07,0.34c-0.07-0.32,0-0.01,0.01,0.08
                    c0.01,0.26,0.03,0.52,0.02,0.79c-0.02,0.7-0.06,0.92-0.19,1.55c-0.51,2.37-1.57,4.75-3.71,5.98c-2.27,1.31-5,0.67-6.7-1.19
                    c-0.72-0.79-1-1.61-0.92-2.79c0.04-0.52,0.24-1.31,0.51-1.98c0.33-0.81,0.79-1.58,1.26-2.31c1.13-1.75-1.66-3.37-2.78-1.63
                    c-1.83,2.82-3.16,6.47-1.35,9.64c1.79,3.14,5.78,4.75,9.26,3.97c3.5-0.78,5.74-3.68,6.95-6.87c0.98-2.59,1.62-6.32-0.44-8.59
                    c-0.62-0.68-1.5-1.04-2.42-1.03c-0.99,0.01-1.94,0.39-2.93,0.45c-1.81,0.11-3.49-0.35-4.87-1.59c-0.84-0.75-1.9-0.53-2.53,0.33
                    c-0.67,0.91-1.45,2.07-1.1,3.26c0.37,1.27,1.59,1.81,2.75,2.19c1.46,0.48,3,0.69,4.52,0.89c0.76,0.11,1.54,0.27,2.3,0.3
                    c0.69,0.03,1.38-0.14,2.06-0.21l-1.61-1.61c-0.18,1.71-0.52,3.47-1.37,4.98c-0.38,0.68-0.88,1.41-1.51,1.82
                    c-0.6,0.39-1.11,0.51-1.88,0.41c-0.69-0.08-1.25-0.31-1.78-0.66c-0.33-0.23-0.69-0.71-0.81-1.07c-0.55-1.64-0.23-3.93-0.23-5.78
                    C173.63,143.49,170.41,143.49,170.41,145.57"/>
                <g>
                    <path class="st2 glasses" d="M202.49,144.9c14.73,3.87,30.38-2.62,37.98-15.88c7.55-13.17,5.55-30.38-5.16-41.21
                        c-9.14-9.25-23.31-12.2-35.4-7.45c-12.16,4.77-20.53,16.42-21.59,29.38C177.03,125.63,187.18,140.43,202.49,144.9
                        c1.08,0.32,1.55-1.37,0.46-1.69c-12.93-3.78-22.19-15.37-22.94-28.84c-0.67-12.08,5.44-23.9,15.87-30.11
                        c10.31-6.14,23.49-5.82,33.47,0.87c12.06,8.09,16.86,23.95,12.1,37.54c-5.52,15.75-22.36,24.78-38.5,20.55
                        C201.86,142.92,201.4,144.61,202.49,144.9"/>
                    <path class="st2 glasses" d="M131.08,153.05c14.12,3.7,29.11-2.07,37.06-14.37c7.96-12.31,7.17-28.9-2.06-40.3
                        c-7.95-9.82-21.19-14.22-33.44-11.21c-13.44,3.31-23.62,15-25.5,28.65C104.85,132.41,115,148.35,131.08,153.05
                        c1.08,0.32,1.55-1.38,0.47-1.69c-13.65-3.99-23.11-16.66-23.01-30.93c0.09-13.39,8.53-25.88,21.17-30.53
                        c10.54-3.88,22.7-1.74,31.2,5.64c10.6,9.21,13.86,24.74,8.24,37.56c-6.33,14.47-22.35,22.26-37.6,18.26
                        C130.46,151.07,129.99,152.76,131.08,153.05"/>
                    <path class="st2 glasses" d="M180.94,118.07c-2.64,1.05-5.49,1.56-8.32,1.51c-0.79-0.01-1.55-0.7-1.51-1.54c0.04-0.83,0.68-1.57,1.53-1.56
                        c0.67,0.01,1.35-0.01,2.02-0.06c0.34-0.03,0.67-0.06,1.01-0.11c-0.37,0.05,0.17-0.03,0.23-0.04c0.15-0.02,0.29-0.05,0.44-0.07
                        c1.31-0.25,2.59-0.63,3.83-1.12c0.75-0.3,1.69,0.34,1.85,1.09C182.22,117.07,181.74,117.75,180.94,118.07"/>
                    
                    <path class="st2" d="M107.88,129.58c-4.92,3.73-57.56,44.15-57.72,43.95c0.27,0.33,25.99-19.59,28.48-21.48l14.61-11.09
                        c2.46-1.87,4.92-3.73,7.37-5.6c2.12-1.61,5.41-3.3,6.94-5.47c-0.65,0.93,0.87,1.8,1.52,0.89c1.38-1.97-0.68-3.24-2.4-2.19
                        c-5.02,3.05-9.63,7.31-14.31,10.86l-28.8,21.86c-4.74,3.6-9.49,7.19-14.22,10.79c-0.84,0.64-1.87,1.25-1.64,2.47
                        c0.14,0.76,0.8,1.34,1.57,1.34c1.73-0.03,4.11-2.78,5.4-3.76c2.47-1.87,4.93-3.74,7.4-5.61l14.17-10.76
                        c10.84-8.23,21.68-16.46,32.52-24.69C109.65,130.42,108.78,128.89,107.88,129.58"/>
                </g>
                <path class="st1" id="left_eye" d="M164.42,122.43c0,2.37-1.92,4.28-4.28,4.28s-4.28-1.92-4.28-4.28c0-2.36,1.92-4.28,4.28-4.28
                    S164.42,120.07,164.42,122.43z"/>
                <path class="st1" id="right_eye" d="M204.16,118.9c0,2.37-1.92,4.28-4.28,4.28c-2.36,0-4.28-1.92-4.28-4.28c0-2.36,1.92-4.28,4.28-4.28
                    C202.24,114.62,204.16,116.54,204.16,118.9z"/>
            </g>
            </svg>

            </div>
            <div class="player__controls">
                
                <div class="progress">
                    <div class="progress__filled"></div>
                </div>

                <div class="start"><img class="start_button_img"src="button_start.png" alt=""></div>
                <!-- <div class="toggle start">►</div> -->
                
                <div class="toggle Ans_A"style="visibility:hidden"></div>
                
                <div class="toggle Ans_B"style="visibility:hidden">
                    
                </div>
                <div class="toggle Ans_C"style="visibility:hidden"></div>
                <div id="start">Let the journey begin!</div>
                <div class="question" id="question1">上一他們會時候天可以時間，我不是周我都會遇的手定訓練，沒有很果真的很有趣個人。怎樣的戴上面寫，嘗試的距離表演。要，沒有一組都麼都只剩就沒好喜星的，就好我以前，好可怕我們的怎麼會，不是也是好好看。</div>
                <div class="question" id="question2">是一沒可以不都我國的忙轉。出感覺點起我一老的不好，他們不可以再，奇怪的收到不一，我沒有，這遊戲上也都是，佛天亮了粉。出來的都不知什麼其實我：到最滿了思考聖誕節我喜歡⋯的死的關係況這麼一腳踏車的有：的故事真的的金的我，喜歡麥當勞開</div>
                <div class="question" id="question3">即將這次我只是可以跟樣的，是普通，我不想看即使聊天是直接惡魔面，日本人很好的角申請，看起來表符不過也有：熊先生。</div>
                
            </div>
        </div>
    </main>
</body>

<script>

    let selectVideo = document.querySelector('video');
    let start = document.querySelector('.start');
    let playButtons = document.querySelectorAll('.toggle');
    let questions = document.getElementsByClassName("question");

    let flag = [false,false,false];
    // let pauseTime = [2,28,46];
    let pauseTime = [4,10,28,46];
    let options =[
        ["第一題選項x","第一題選項y","第一題選項z","第一題選項q"],
        ["第二題選項f","第二題選項g","第二題選項h","第二題選項i"],
        ["第三題選項m","第三題選項n","第三題選項o","第三題選項p"]
    ];

    
    function doFirst() {
        start.addEventListener('click',playToggle);
        playButtons.forEach(btn => {
            btn.addEventListener('click',playToggle);
        });
    };
    
    
    
    function playToggle() {
        
        start.style="display:none";
        document.getElementById("start").style ="visibility:hidden";
        document.getElementById("ball_svg").style="display:block";
        
        
        if (!selectVideo.paused && !selectVideo.ended) {
            playButtons.forEach(btn => {
            btn.style ="visibility: visible";});
           
        } else {
            timer = setInterval(function () {
                        console.log(selectVideo.currentTime);
                        videoPause();
                        }, 100);
                        
            selectVideo.play();

            for(i=0; i<3; i++){
                questions[i].style ="visibility:hidden"};
                
            for(j=0; j<4; j++){
                playButtons[j].style ="visibility: hidden";
            };
             
        };
    };


    function videoPause() {
        for(i=0; i<3; i++){
            if (selectVideo.currentTime > pauseTime[i] && flag[i] ==false) {
                selectVideo.pause();
                flag[i]=true;
                
                playButtons.forEach(btn => {
                btn.style ="visibility: visible";});

                questions[i].style ="visibility:visible";
                for(j=0; j<4; j++){
                    playButtons[j].innerText= options[i][j];
                };
               
    
            } else {

            };
        };
        
    };


    window.addEventListener('load', doFirst);
</script>

</html>

