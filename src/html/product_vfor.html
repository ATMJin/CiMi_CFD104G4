<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â•ΩÁâ©ÂïÜÂüé | CiMi‰∫§ÂèãË´ñÂ£á</title>
    <link rel="stylesheet" href="assets/css/product.css">
    <!-- Âª£ÂëäËº™Êí≠ -->
    <!-- <link rel="stylesheet" href="src\js\product.js"> -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Roboto+Slab:wght@300&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.2.1/flickity.css">


    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.2.1/flickity.pkgd.min.js">
    </script>
    <script src="js/vue.js"></script>
    <link rel="stylesheet" href="assets/css/shop_cart.css">
    <!-- <script type="text/javascript" src="script.js"></script> -->
</head>

<body>
    @@include('layout/header.html')
    <div id="productApp">
        <div class="content_area">
            @@include('layout/sidebar.html')
            <!-- Â•ΩÁâ©ÂïÜÂüé -->
            <main class="main_product">
                <!-- Â•ΩÁâ©ÂïÜÂüéÊ®ôÈ°å -->
                <Section class="product_title">
                    <div class="item_box">
                        <div class="txt_box">
                            <p>Â•ΩÁâ©ÂïÜÂüé</p>
                        </div>
                        <!-- Ë≥ºÁâ©Ëªäicon -->
                        <a href="shop_cart.html">
                            <div class="img_box">
                                <img src="assets\images\icon\cart.png">
                            </div>
                        </a>
                    </div>
                </Section>

                <!-- Âª£ÂëäÊäïÊîæ -->
                <section class="hero-slider" data-carousel>
                    <div class="carousel-cell"
                        style="background-image: url(https://as2.ftcdn.net/v2/jpg/03/13/60/15/1000_F_313601509_zMFBCz9u0kUnLcQT8Uqs6kVc5T41aUMQ.jpg);">
                        <!-- ËÆäÊöóÊïàÊûú -->
                        <div class="overlay"></div>
                        <div class="inner">
                            <a href="product_ad_page.html" class="btn">Tell me more</a>
                        </div>
                    </div>

                    <div class="carousel-cell"
                        style="background-image: url(https://t4.ftcdn.net/jpg/04/73/71/87/240_F_473718710_h4W0nn69AZ0LqTcMkT3Yke71vKY7Agli.jpg);">
                        <div class="overlay"></div>
                        <div class="inner">
                            <a href="product_ad_page.html" class="btn">Tell me more</a>
                        </div>
                    </div>

                    <div class="carousel-cell"
                        style="background-image: url(https://as2.ftcdn.net/v2/jpg/02/51/61/69/1000_F_251616979_Qjun8K9Hse9phwWYYnhBqEeV4WLbeXKu.jpg);">
                        <!-- <div class="overlay"></div> -->
                        <div class="inner">
                            <a href="product_ad_page.html" class="btn">Tell me more</a>
                        </div>
                    </div>
                </section>

                <!-- ÁúüÂØ¶Ë©ïË´ñÔºåÂ•ΩÂèãË®éË´ñÔºåÂÖçÈÅã -->
                <section class="product_comment">
                    <a href="#">
                        <div class="item_box">
                            <div class="item">
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_appraise.png">
                                </div>
                                <div class="txt_box">
                                    <p style="color: #f1f1f1;">ÁúüÂØ¶Ë©ïÂÉπ</p>
                                </div>

                            </div>
                            <div class="item">
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_tag.png">
                                </div>
                                <div class="txt_box">
                                    <p style="color: #f1f1f1;">ÊäòÂÉπÂÑ™ÊÉ†</p>
                                </div>

                            </div>
                            <div class="item">
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_chat.png">
                                </div>
                                <div class="txt_box">
                                    <p style="color: #f1f1f1;">Âç°ÂèãË®éË´ñ</p>
                                </div>

                            </div>
                        </div>
                    </a>
                </section>

                <!-- ÂïÜÂìÅÂàÜÈ°û -->
                <section class="sort">
                    <div class="item_box">
                        <a href="product_sort_page.html">
                            <div class="item">
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_life.png">
                                </div>
                                <div class="txt_box">
                                    <p>Ë≥™ÊÑüÁîüÊ¥ª</p>
                                </div>
                            </div>
                        </a>
                        <a href="#">
                            <div class="item">
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_cosmetics.png">
                                </div>
                                <div class="txt_box">
                                    <p>ÁæéÂ¶ù‰øùÈ§ä</p>
                                </div>
                            </div>
                        </a>
                        <a href="#">
                            <div class="item">
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_clothes.png">
                                </div>
                                <div class="txt_box">
                                    <p>È¢®Ê†ºÁ©øÊê≠</p>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="item_box">
                        <a href="#">
                            <div class="item">
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_food.png">
                                </div>
                                <div class="txt_box">
                                    <p>ÁæéÈ£üË£úÁµ¶</p>
                                </div>
                            </div>
                        </a>
                        <a href="#">
                            <div class="item">
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_3C.png">
                                </div>
                                <div class="txt_box">
                                    <p>3CÂÆ∂Èõª</p>
                                </div>
                            </div>
                        </a>
                        <a href="#">
                            <div class="item">
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_book.png">
                                </div>
                                <div class="txt_box">
                                    <p>Êõ∏Á±çË£úÁµ¶</p>
                                </div>
                            </div>
                        </a>
                    </div>

                </section>

                <!-- ÊúÄÊñ∞ÂçÄ -->
                <!-- ÂïÜÂìÅ -->
                <section class="new_goods_information">
                    <!-- ÈôêÊôÇÂïÜÂìÅ -->
                    <div class="item_box">
                        <div class="item_time_limit ">
                            <!-- Ê®ôÈ°å -->
                            <div class="title">
                                <!-- icon -->
                                <div class="img_box">
                                    <img src="assets\images\icon\shop_hot_deal.png">
                                </div>
                                <!-- ÊñáÂ≠ó -->
                                <div class="txt_box">
                                    <div class="txt_new_goods">
                                        <p>ÈôêÊôÇÂïÜÂìÅ</p>
                                    </div>
                                    <!-- ÂÄíÊï∏ÊôÇÈñì -->
                                    <div class="txt_new_goods_time">
                                        <!--Ââ©È§òÁöÑÂ§©Êï∞-->
                                        <div class="product_time" id="d"></div>
                                        <!--Ââ©È§òÁöÑÂ∞èÊôÇ-->
                                        <div class="product_time" id="h"></div>
                                        <!--Ââ©È§òÁöÑÂàÜÈêò-->
                                        <div class="product_time" id="m"></div>
                                        <!--Ââ©È§òÁöÑÁßíÊï∏-->
                                        <div class="product_time" id="s"></div>
                                    </div>
                                </div>
                            </div>
                            <!-- ÂïÜÂìÅ -->
                            <div onclick="myFunction" class="product_item_box">
                                <div class="img_box">
                                    <img src="assets\images\goods\goods_heme.jpg">
                                </div>
                                <div class="txt_box">
                                    <p>heme | ÂÖ≠Ëâ≤ÁúºÂΩ±Áõ§</p>
                                    <p>NT.500</p>
                                </div>
                            </div>
                        </div>
                        <!-- ‰∏äÊû∂ÂïÜÂìÅ -->
                        <div class="item_new_product">
                            <!-- Ê®ôÈ°å -->
                            <div class="title">
                                <p>ÊúÄÊñ∞‰∏äÊû∂ÂïÜÂìÅ</p>
                            </div>
                            <div class="items">
                                <div onclick="myFunction" class="item">
                                    <div class="img_box">
                                        <img src="assets\images\goods\goods_heme_bluck.jpg">
                                    </div>
                                    <div class="txt_box">
                                        <p>ÈÄÅÁ¶ÆÊé®Ëñ¶Ô∏±‰∏âËâ≤ÁúâÁ≤âÁõ§</p>
                                        <p>NT.665</p>
                                    </div>
                                </div>
                                <div onclick="myFunction" class="item">
                                    <div class="img_box">
                                        <img src="assets\images\goods\goods_new_goods_information_mascara.jpg">
                                    </div>
                                    <div class="txt_box">
                                        <p>Êé®Ëñ¶Â∞èË≥áÂ•≥ÔΩúÁù´ÊØõËÜè</p>
                                        <p>NT.299</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ÁÜ±ÈñÄÂïÜÂìÅ -->
                <section class="hot">
                    <div class="hot_item_box">
                        <!-- Ê®ôÈ°å -->
                        <div class="title">
                            <!-- icon -->
                            <div class="img_box">
                                <img src="assets\images\icon\shop_medal.png" style="width: 30px;">
                            </div>
                            <!-- Ê®ôÈ°å(ÊñáÂ≠ó) -->
                            <div class="txt_box">
                                <p>ÁÜ±ÈñÄÂïÜÂìÅ</p>
                            </div>
                        </div>
                        <!-- ÂïÜÂìÅ -->
                        <div class=" item_box">
                            <div onclick="myFunction" class="item">
                                <div class="img_box">
                                    <img src="assets\images\goods\goods_hot_switch.jpg">
                                </div>
                                <div class="txt_box">
                                    <p>‰ªªÂ§©Â†ÇÔΩúSwitch </p>
                                </div>
                            </div>
                            <div onclick="myFunction" class="item">
                                <div class="img_box">
                                    <img src="assets\images\goods\goods_hot_mask.jpg">
                                </div>
                                <div class="txt_box">
                                    <p>Ëé´Ëò≠Ëø™ | Êàê‰∫∫Âè£ÁΩ©</p>

                                </div>
                            </div>
                            <div onclick="myFunction" class="item">
                                <div class="img_box">
                                    <img src="assets\images\goods\goods_hot_lovebook.jpg">
                                </div>
                                <div class="txt_box">
                                    <p>ÊàÄÊÑõ | ËÑ´ÂñÆÊîªÁï•</p>

                                </div>
                            </div>
                            <div onclick="myFunction" class="item">
                                <div class="img_box">
                                    <img src="assets\images\goods\goods_hot_fragrance.jpg">
                                </div>
                                <div class="txt_box">
                                    <p>Â§©ÁÑ∂ | È¶ôÊ∞õÂ§ßË±ÜË†üÁá≠üïØÔ∏è</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ÂÖ®ÈÉ®ÂïÜÂìÅ -->
                <section class="all">
                    <div class="all_item_box">
                        <!-- Ê®ôÈ°å -->
                        <div class="title">
                            <p>ÂÖ®ÈÉ®ÂïÜÂìÅ</p>
                        </div>
                        <!-- ÂïÜÂìÅ -->

                        <div class="item_box">
                            <!-- ÊíàÂõû‰æÜÁöÑÊâÄÊúâÂïÜÂìÅË≥áÊñôÁî®v-forÂª∫Á´ãÂïÜÂìÅÂç°Áâá -->
                            <!-- v-ifË∑≥ÈÅéÂâçÂÖ©Á≠Ü -->
                            <!-- @clickÂª∫Á´ãÈªûÂèä‰∫ã‰ª∂ÔºåËÆäÊï∏numberÁ≠âÊñºÊàëÈªûÊìäÁöÑÂïÜÂìÅÁ∑®Ëôü -->
                            <div onclick="myFunction()" class="item ligh_box_jump" v-for="good in goods"
                                v-if="good.goods_no > 2" @click="number=good.goods_no">
                                <div class="img_box">
                                    <img v-bind:src="good.goods_pic1">
                                </div>
                                <div class="txt_box">
                                    <p>{{good.goods_name}}</p>
                                    <p>NT.{{good.goods_price}}</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>

            </main>
        </div>
        <!-- ÁáàÁÆ±--ÊÑüË¨ùÊñáÈÄ≤Â§ßÂ§ßÁõ∏Âä©!!!!! -->
        <section class="product_lighbox">
            <!-- v-forÂª∫Á´ãÊâÄÊúâÂïÜÂìÅÁáàÁÆ± -->
            <!-- v-ifÁî®numberÂà§Êñ∑Ë¶ÅÈ°ØÁ§∫Âì™ÂÄãÁáàÁÆ± -->
            <main class="product_page" v-for="good in goods" v-if="number==good.goods_no">
                <!-- ÂïÜÂìÅÊúÄ‰∏äÈù¢ÁöÑÊ®ôÈ°å -->
                <section class="product_page_title">
                    <!-- ÂïÜÂìÅÂêçÁ®± -->
                    <div class="txt_box">
                        <p>{{good.goods_name}}</p>
                    </div>
                    <!-- ÂèâÂèâÊåâÈàï -->
                    <div @click="displayNone" class="img_box cross ">
                        <img src="assets\images\icon\close.png">
                    </div>

                </section>
                <!-- ËøΩËπ§ÂàÜÈ°û -->
                <section class="product_page_sort_follow">
                    <div class="product_item_box">
                        <!-- ÂúñÁâá -->
                        <div class="product_img_box">
                            <img src="assets\images\icon\shop_food.png">
                        </div>
                        <!-- ÊñáÂ≠ó -->
                        <div class="txt_box">
                            <!-- ÂàÜÈ°û -->
                            <p style="color:rgb(20, 20, 20);">{{good.goods_class}}</p>
                        </div>
                    </div>
                    <!-- ÊåâÈàï -->
                    <button class="btn-secondary">ËøΩËπ§</button>
                </section>

                <!-- // ÂïÜÂìÅÁÖß(Â∞èÂúñËÆäÂ§ßÂúñ -->
                <section class="product_page_pic">
                    <div class="product_large">
                        <img id="large" :src="good.goods_pic1">
                    </div>
                    <div class="product_small">
                        <div class="img_box">
                            <img :src="good.goods_pic1" /></div>
                        <div class="img_box"><img :src="good.goods_pic2" /></div>
                        <div class="img_box">
                            <img :src="good.goods_pic3" /></div>
                    </div>
                </section>

                <!-- ÂïÜÂìÅÂÉπÊ†º/Ë≥áË®ä -->
                <section class="product_page_price_in">
                    <div class="txt_box">
                        <p>${{good.goods_price}}</p>
                        <p>{{good.goods_i}} </p>
                    </div>
                </section>

                <!-- ÁïôË®ÄÂçÄ -->
                <section class="product_comment">
                    <p>ÂÖ±{{count}}ÂâáÁïôË®Ä</p>
                    <!-- v-forÂª∫Á´ãÊâÄÊúâÁïôË®Ä -->
                    <!-- v-ifÁØ©ÈÅ∏Âè™Â±¨ÊñºË©≤ÂïÜÂìÅÁöÑÁïôË®Ä -->
                    <div class="comment_box" v-for="comment in comments" v-if="number == comment.goods_no">
                        <div class="comment_head_photo">
                            <img :src="comment.mem_head">
                        </div>
                        <div class="comment_txt">
                            <div class="comment_mem_name_box">
                                <span class="comment_mem_name_item">{{comment.mem_name}}</span>
                                <div class="comment_impeach_icon">
                                    <img src="assets/images/icon/more_hov.png" alt="">
                                </div>
                            </div>
                            <div class="comment_content">
                                {{comment.comment_content}}
                            </div>
                            <div class="comment_info">
                                <div class="comment_like_box">
                                    <div class="comment_like_icon">
                                        <img src="assets/images/icon/like_hov.png" alt="">
                                    </div>
                                    <span class="comment_like_amount">{{comment.comment_likes_amount}}</span>
                                </div>
                                <span class="comment_date">{{comment.comment_last_edit_date}}</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ÊàëË¶ÅÁïôË®Ä -->
                <section class="product_page_msg">
                    <!-- Âè≥ÈÇä -->
                    <div class="item_box_msger">
                        <!-- ÁïôË®ÄÈ†≠Ë≤º -->
                        <div class="img_box">
                            <img src="assets\images\icon\nav_member.png">
                        </div>
                        <!-- ÁïôË®Ä -->

                        <div class="txt_box">
                            <input type="text" name="tname" placeholder="ÁïôË®Ä...">
                        </div>
                    </div>
                    <!-- Â∑¶ÈÇäicon -->
                    <div class="item_box_fuction_icon">
                        <div class="img_box">
                            <!-- Êî∂Ëóè -->
                            <div class="img_box_save" id="product_save" title="Âä†ÂÖ•Êî∂Ëóè">
                                <img src="assets/images/icon/save_hov.png">
                            </div>

                            <!-- ÊÑõÂøÉ -->
                            <div class="img_box_report" id="product_heart" title="Âä†ÂÖ•ÊÑõÂøÉ">
                                <img src="assets\images\icon\like_hov.png">
                            </div>
                        </div>
                        <!-- Á´ãÂç≥Ë≥ºË≤∑ -->
                        <button class="btn-primary">Á´ãÂç≥Ë≥ºË≤∑</button>

                        <!-- Âä†ÂÖ•Ë≥ºÁâ©Ëªä-->
                        <button class="btn-secondary">Âä†ÂÖ•Ë≥ºÁâ©Ëªä</button>
                    </div>
                </section>
            </main>
        </section>
    </div>
    <!-- Âª£ÂëäËº™Êí≠/ÁáàÁÆ±/Êî∂Ëóèsave/ÊÑõÂøÉheart/jsÈôêÊôÇÁâπË≥£(ÂÄíÊï∏Ë®àÊôÇ)/Â∞èÂúñËÆäÂ§ßÂúñ -->
    <script src="js\product_all.js"></script>
    <!-- ÊíàË≥áÊñô -->
    <!-- <script src="js\product.js"></script> -->

    <script>
        Vue.config.devtools = true;
        const vm = new Vue({
            el: "#productApp",
            data: {
                goods: [],
                comments: [],
                number: 0,
                // ÂïÜÂìÅÁïôË®ÄÊï∏
                count: 0,
            },
            // Áõ£ËÅΩÈªûÊìäÁöÑÂïÜÂìÅÁ∑®ËôüÊîπËÆä
            // Ëã•ÊîπËÆäÂâáÂü∑Ë°åcountCommentÂáΩÂºè
            watch: {
                number: "countComment",
            },
            methods: {
                displayNone() {
                    let x = document.querySelector(".product_lighbox");
                    x.style.display = "none";
                },
                // ÊäìË≥áÊñôÂ∫´ÊâÄÊúâÂïÜÂìÅ
                getGoods() {
                    let xhr = new XMLHttpRequest();
                    xhr.open("get", `phps/product_all.php?case=allgoods`, true);
                    xhr.send(null);

                    xhr.onload = () => {
                        allgoods = JSON.parse(xhr.responseText);
                        // console.log(xhr.responseText);
                        console.table(allgoods);
                        this.goods = allgoods
                    }
                },
                // ÊäìË≥áÊñôÂ∫´ÊâÄÊúâÁïôË®Ä
                getGoodsComments() {
                    let xhr = new XMLHttpRequest();
                    xhr.open("get", `phps/product_all.php?case=goodscomment`, true);
                    xhr.send(null);

                    xhr.onload = () => {
                        allcomments = JSON.parse(xhr.responseText);
                        // console.log(xhr.responseText);
                        console.table(allcomments);
                        this.comments = allcomments
                    }
                },
                // Êï∏ÈÄô‰ª∂ÂïÜÂìÅÊúâÂ§öÂ∞ëÁïôË®Ä
                countComment(newValue, oldValue) {
                    let c = 0;
                    for (let i = 0; i < this.comments.length; i++) {
                        if (this.comments[i].goods_no == newValue) {
                            c++
                        }
                    }
                    // console.log(c);
                    this.count = c;
                }
            },
            mounted() {
                this.getGoods();
                this.getGoodsComments();

            },
        })
    </script>


</body>

</html>